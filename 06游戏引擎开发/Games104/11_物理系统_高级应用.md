# Physics System

[jrouwe/JoltPhysics: A multi core friendly rigid body physics and collision detection library suitable for games and VR applications. (github.com)](https://github.com/jrouwe/JoltPhysics)

![image-20220621004103688](Media/11_物理系统_高级应用/image-20220621004103688.png)



# 角色控制器 Character Controller

![image-20220621004246386](Media/11_物理系统_高级应用/image-20220621004246386.png)

![image-20220621004329907](Media/11_物理系统_高级应用/image-20220621004329907.png)

![image-20220621004342896](Media/11_物理系统_高级应用/image-20220621004342896.png)

![image-20220621004427098](Media/11_物理系统_高级应用/image-20220621004427098.png)

![image-20220621004542844](Media/11_物理系统_高级应用/image-20220621004542844.png)

![image-20220621004622413](Media/11_物理系统_高级应用/image-20220621004622413.png)

![image-20220621004720031](Media/11_物理系统_高级应用/image-20220621004720031.png)

![image-20220621004816053](Media/11_物理系统_高级应用/image-20220621004816053.png)

![image-20220621004905800](Media/11_物理系统_高级应用/image-20220621004905800.png)



# Ragdoll 布娃娃系统

![image-20220621005120254](Media/11_物理系统_高级应用/image-20220621005120254.png)

![image-20220621005212873](Media/11_物理系统_高级应用/image-20220621005212873.png)

![image-20220621005231383](Media/11_物理系统_高级应用/image-20220621005231383.png)

![image-20220621005308988](Media/11_物理系统_高级应用/image-20220621005308988.png)

![image-20220621005340521](Media/11_物理系统_高级应用/image-20220621005340521.png)

![image-20220621005414656](Media/11_物理系统_高级应用/image-20220621005414656.png)

![image-20220621005452450](Media/11_物理系统_高级应用/image-20220621005452450.png)

![image-20220621005553728](Media/11_物理系统_高级应用/image-20220621005553728.png)

![image-20220621005642646](Media/11_物理系统_高级应用/image-20220621005642646.png)



# 衣服模拟 Clothing

![image-20220621005840862](Media/11_物理系统_高级应用/image-20220621005840862.png)

![image-20220621005915369](Media/11_物理系统_高级应用/image-20220621005915369.png)

## Mesh-based Cloth Simulation

![image-20220621005944080](Media/11_物理系统_高级应用/image-20220621005944080.png)

![image-20220621010017379](Media/11_物理系统_高级应用/image-20220621010017379.png)

![image-20220621010034925](Media/11_物理系统_高级应用/image-20220621010034925.png)

![image-20220621010116805](Media/11_物理系统_高级应用/image-20220621010116805.png)

![image-20220621010136286](Media/11_物理系统_高级应用/image-20220621010136286.png)

![image-20220621010157474](Media/11_物理系统_高级应用/image-20220621010157474.png)

![image-20220621010205832](Media/11_物理系统_高级应用/image-20220621010205832.png)

## 半隐式欧拉积分，收敛稳定

![image-20220621010527460](Media/11_物理系统_高级应用/image-20220621010527460.png)

![image-20220621010542723](Media/11_物理系统_高级应用/image-20220621010542723.png)

下一帧的位置由这一帧的位置和受力有关，稳定。如果跟速度挂钩，速度会突变。

## PDB

![image-20220621010713519](Media/11_物理系统_高级应用/image-20220621010713519.png)

## Self Collision

![image-20220621010825070](Media/11_物理系统_高级应用/image-20220621010825070.png)

![image-20220621010850278](Media/11_物理系统_高级应用/image-20220621010850278.png)

![image-20220621010902996](Media/11_物理系统_高级应用/image-20220621010902996.png)

# 破坏模拟

![image-20220621011035550](Media/11_物理系统_高级应用/image-20220621011035550.png)

![image-20220621011103481](Media/11_物理系统_高级应用/image-20220621011103481.png)

![image-20220621011129010](Media/11_物理系统_高级应用/image-20220621011129010.png)

![image-20220621011142028](Media/11_物理系统_高级应用/image-20220621011142028.png)

![image-20220621011240070](Media/11_物理系统_高级应用/image-20220621011240070.png)

![image-20220621011246357](Media/11_物理系统_高级应用/image-20220621011246357.png)

![image-20220621011331742](Media/11_物理系统_高级应用/image-20220621011331742.png)

![image-20220621011343683](Media/11_物理系统_高级应用/image-20220621011343683.png)

![image-20220621011409932](Media/11_物理系统_高级应用/image-20220621011409932.png)

![image-20220621011630831](Media/11_物理系统_高级应用/image-20220621011630831.png)

![image-20220621011645536](Media/11_物理系统_高级应用/image-20220621011645536.png)

![image-20220621011655196](Media/11_物理系统_高级应用/image-20220621011655196.png)

![image-20220621011741707](Media/11_物理系统_高级应用/image-20220621011741707.png)

![image-20220621011819877](Media/11_物理系统_高级应用/image-20220621011819877.png)

![image-20220621011903794](Media/11_物理系统_高级应用/image-20220621011903794.png)

![image-20220621011919035](Media/11_物理系统_高级应用/image-20220621011919035.png)

# 载具模拟

![image-20220621011948442](Media/11_物理系统_高级应用/image-20220621011948442.png)

![image-20220621012157850](Media/11_物理系统_高级应用/image-20220621012157850.png)

![image-20220621012213994](Media/11_物理系统_高级应用/image-20220621012213994.png)

![image-20220621012325877](Media/11_物理系统_高级应用/image-20220621012325877.png)

![image-20220621012339121](Media/11_物理系统_高级应用/image-20220621012339121.png)

![image-20220621012403394](Media/11_物理系统_高级应用/image-20220621012403394.png)

![image-20220621012519282](Media/11_物理系统_高级应用/image-20220621012519282.png)

![image-20220621012540449](Media/11_物理系统_高级应用/image-20220621012540449.png)

![image-20220621012621187](Media/11_物理系统_高级应用/image-20220621012621187.png)

![image-20220621012639275](Media/11_物理系统_高级应用/image-20220621012639275.png)

![image-20220621012731444](Media/11_物理系统_高级应用/image-20220621012731444.png)

![image-20220621012757140](Media/11_物理系统_高级应用/image-20220621012757140.png)



# 高级：PDB 与 XPDB

![image-20220621012952732](Media/11_物理系统_高级应用/image-20220621012952732.png)

拉格朗日力学，用约束反向定义运动

![image-20220621013103070](Media/11_物理系统_高级应用/image-20220621013103070.png)

J 表示逼近的趋势，类似牛顿迭代法。

![image-20220621013316869](Media/11_物理系统_高级应用/image-20220621013316869.png)

![image-20220621013331594](Media/11_物理系统_高级应用/image-20220621013331594.png)

![image-20220621013417708](Media/11_物理系统_高级应用/image-20220621013417708.png)

用约束来代替力和速度，超级牛顿迭代法。避免了力和速度带来的不稳定性



![image-20220621013618635](Media/11_物理系统_高级应用/image-20220621013618635.png)

略，分布分析

![image-20220621013731967](Media/11_物理系统_高级应用/image-20220621013731967.png)

![image-20220621013755050](Media/11_物理系统_高级应用/image-20220621013755050.png)

硬约束，还是软约束。想象让整体的势能足够小



# Q&A

### 布娃娃为什么会鬼畜

约束参数不对。即使参数对了，动画的输入也会导致不稳定。Kinematic 静态物体质量无穷大。

真正好的物理引擎，经验丰富的程序，知道出问题时应该停在哪里。停得不好就 Bug 了



### 爆炸与可破坏物体的交互

爆炸是冲量场，逻辑再出发破碎



### 物理引擎足够写实，还需要 controller 吗

写实的手感不好

趣味性更重要

